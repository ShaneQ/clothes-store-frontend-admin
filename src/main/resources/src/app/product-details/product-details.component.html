<div *ngIf="product">
  <!-- PRODUCT -->
  <section class="mt-5">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="row">
            <div class="col-12 col-md-6">

              <!-- Card -->
              <div class="card">

                <!-- Badge -->
                <div class="badge badge-primary card-badge text-uppercase">
                  Sale
                </div>

                <!-- Slider -->
                <div class="mb-4"
                     data-flickity='{"draggable": false, "fade": true, "pageDots": false, "prevNextButtons": false}'
                     id="productSlider">


                  <!--                <a href="{{product.coverImg.path}}" *ngIf="product.coverImg"data-fancybox>-->
                  <!--                  <img class="card-img-top" [src]=product.coverImg.path *ngIf="product.coverImg" alt="Product Image">-->
                  <!--                </a>-->
                  <!--                <a href="{{defaultImageUrl}}" *ngIf="!product.coverImg" data-fancybox>-->
                  <!--                  <img class="card-img-top" [src]=defaultImageUrl *ngIf="!product.coverImg" alt="Product Image Default">-->
                  <!--                </a>-->
                  <!-- Item -->
                  <a href="assets/img/products/product-122.jpg" data-fancybox>
                    <img src="assets/img/products/product-122.jpg" alt="..." class="card-img-top">
                  </a>

                  <!-- Item -->
                  <a href="assets/img/products/product-146.jpg" data-fancybox>
                    <img src="assets/img/products/product-146.jpg" alt="..." class="card-img-top">
                  </a>

                </div>

              </div>

              <!-- Slider -->
              <div class="flickity-nav mx-n2 mb-10 mb-md-0"
                   data-flickity='{"asNavFor": "#productSlider", "contain": true, "wrapAround": false, "prevNextButtons": false, "pageDots": false} '>

                <!-- Item -->
                <div class="col-12 px-2" style="max-width: 113px;">

                  <!-- Image -->
                  <div class="embed-responsive embed-responsive-1by1 bg-cover"
                       style="background-image: url(assets/img/products/product-7.jpg);"></div>

                </div>

                <!-- Item -->
                <div class="col-12 px-2" style="max-width: 113px;">

                  <!-- Image -->
                  <div class="embed-responsive embed-responsive-1by1 bg-cover"
                       style="background-image: url(assets/img/products/product-122.jpg);"></div>

                </div>

                <!-- Item -->
                <div class="col-12 px-2" style="max-width: 113px;">

                  <!-- Image -->
                  <div class="embed-responsive embed-responsive-1by1 bg-cover"
                       style="background-image: url(assets/img/products/product-146.jpg);"></div>

                </div>

              </div>

            </div>
            <div class="col-12 col-md-6 pl-lg-10">

              <!-- Header -->
              <div class="row mb-1">
                <div class="col">

                  <!-- Preheading -->
                  <a class="text-muted" href="shop.html">{{product.category.name}}</a>

                </div>
              </div>

              <!-- Heading -->
              <h3 class="mb-2">{{product.name}}</h3>

              <!-- Description -->
              <p class="mb-2">{{product.quickDesc}}</p>

              <!-- Form -->
              <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                  <label>Size:</label>
                  <!-- Radio -->
                  <div class="mb-2">
                    <div *ngIf="submitted">
                      <div>Size is required</div>
                    </div>
                    <div *ngFor="let size of product.sizes" class="custom-control custom-control-inline custom-control-size mb-2">
                      <input type="radio"  name="size" formControlName="size"  class="custom-control-input form-control"  [ngClass]="{ 'is-invalid': this.submitted && f.size.errors }"id="{{'sizeRadio'+size.size.id}}" value="{{size.size.name}}" data-toggle="form-caption">

                      <label class="custom-control-label" for="{{'sizeRadio'+size.size.id}}">{{size.size.name}}</label>
                    </div>
                  </div>
                </div>
                  <!-- Size chart -->
                  <div class="row mb-3">
                    <div class="col-4">
                      <p>
                        <img src="assets/img/icons/icon-ruler.svg" alt="..." class="img-fluid"> <a
                        class="text-reset text-decoration-underline ml-3" data-toggle="modal" href="#modalSizeChart">Size
                        chart</a>
                      </p>
                    </div>
                    <div class="col-8" *ngIf="product.dryClean">
                      <i-feather name="alert-circle"></i-feather>
                      <p class="d-inline"> This item is dry clean only </p>
                    </div>

                  </div>

                  <div class="container">

                    <div class="form-row mb-6" id="oneTimeRentalSection" *ngIf="this.member">
                      <div class="radio radio-danger radio-inline col-lg-8 border border-dark ">
                        <div class="mt-3" (click)="onMembershipClick(true)">
                          <input type="radio" formControlName="rental" name="rental"  id="oneTimeRental" value="single" [checked]="!this.rentalPreferenceMembership" >
                          <label for="oneTimeRental">

                            <p class="mb-0">ONE-TIME-RENTAL</p>
                            <span class="ml-1 font-size-h5 font-weight-bolder text-primary">{{product.rentalPrice | currency:'EUR'}}</span>
                            <span class="font-size-xxs ml-1">( Keep it for 7 days )</span>

                          </label>
                        </div>

                      </div>
                    </div>
                    <div class="form-row mb-6">
                      <div class="radio radio-danger radio-inline col-lg-8 border border-dark">
                        <div class="mt-3" (click)="onMembershipClick(false)">
                        <input type="radio" formControlName="rental" name="rental"  id="membershipRental" value="member" checked>
                        <label for="membershipRental">
                          <p class="mb-0">MEMBERSHIP</p>
                          <span class="font-size-lg font-weight-bold text-gray-350 text-decoration-line-through">{{product.rentalPrice | currency:'EUR'}}</span>
                          <span *ngIf="!this.member" class="font-size-xxs ml-1">( Membership starting at â‚¬58 )</span>
                          <span *ngIf="this.member" class="font-size-xxs ml-1">( You have 4 bookings available )</span>

                        </label>
                      </div>
                      </div>
                      <button *ngIf="this.isMemberInfoBtnVis" class="btn btn-primary btn-sm col-lg-8 hide" id="showMemberShipInfoBtn">
                        Find the membership that fits you
                        <i-feather name="arrow-right" class=" text-white"></i-feather>
                      </button>
                    </div>
                    <div class="form-row">
                      <div class="col-6">
                        <div class=" theme-default">
                          <div class="row ">
                            <div class="form-group">
                              <input
                                formControlName="orderDate"
                                type="text"
                                placeholder="PICKUP DATE"
                                class="form-control border-dark"
                                bsDatepicker
                                [bsConfig]="{ isAnimated: true, containerClass : 'theme-default'}"
                                [minDate]="minDate"
                                [maxDate]="maxDate">
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="btn-group dropdown">

                          <!-- Toggle -->
                          <button class="btn btn-sm btn-block btn-outline-border border-dark dropdown-toggle" data-toggle="dropdown"
                                  data-display="static">
                            COLLECTION PLACE
                          </button>

                          <!-- Menu -->
                          <div class="dropdown-menu">
                            <div class="card">
                              <div class="card-body">

                                <!-- Form group -->
                                <div class="form-group-overflow">
                                  <div class="custom-control custom-radio mb-3">
                                    <input class="custom-control-input" formControlName="dispatch" id="categoryOne" type="radio" value="smithfield">
                                    <label class="custom-control-label" for="categoryOne">SMITHFIELD MARKET</label>
                                  </div>
                                  <div class="custom-control custom-radio mb-3">
                                    <input class="custom-control-input" formControlName="dispatch" id="categoryTwo"  type="radio" value="meeting">
                                    <label class="custom-control-label" for="categoryTwo">NEXT CLUB MEETING</label>
                                  </div>
                                  <div class="custom-control custom-radio mb-3">
                                    <input class="custom-control-input" formControlName="dispatch" id="categoryThree" type="radio" value="shipping">
                                    <label class="custom-control-label" for="categoryThree">PARCEL MOTEL</label>
                                  </div>
                                </div>

                              </div>

                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="form-row mb-7">
                    <div class="col-12 col-lg-auto">

                      <!-- Wishlist -->
                      <button class="btn btn-outline-dark btn-block mb-2" data-toggle="button">
                        Wishlist <i class="fe fe-heart ml-2"></i>
                      </button>

                    </div>
                    <div class="col-12 col-lg">

                      <!-- Submit -->
                      <button *ngIf="this.remainingBookings === 0" type="submit"  class="btn btn-block btn-dark mb-2"  [disabled]="this.isMemberInfoBtnVis" data-toggle="modal" href="#modalMemberSlowDown" >
                        Book it <i class="fe fe-shopping-cart ml-2"></i>
                      </button>

                      <!-- Submit -->
                      <button *ngIf="this.remainingBookings > 0" type="submit" class="btn btn-block btn-dark mb-2"  [disabled]="this.isMemberInfoBtnVis" data-toggle="modal" href="#modalMemberSlowDown" >
                        Book it <i class="fe fe-shopping-cart ml-2"></i>
                      </button>

                    </div>
                  </div>
              </form>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DESCRIPTION -->
  <section class="pt-11">
    <div class="container">
      <div class="row">
        <div class="col-12">

          <!-- Nav -->
          <div class="nav nav-tabs nav-overflow justify-content-start justify-content-md-center border-bottom">
            <a class="nav-link active" data-toggle="tab" href="#descriptionTab">
              Description
            </a>
            <a class="nav-link" data-toggle="tab" href="#sizeTab">
              Size & Fit
            </a>
            <a class="nav-link" data-toggle="tab" href="#washInfo">
              Wash & Care
            </a>
          </div>

          <!-- Content -->
          <div class="tab-content">
            <div class="tab-pane fade show active" id="descriptionTab">
              <div class="row justify-content-center py-9">
                <div class="col-12 col-lg-10 col-xl-8">
                  <div class="row">
                    <div class="col-12">

                      <!-- Text -->
                      <p class="text-gray-500">
                        {{product.description}}
                      </p>

                    </div>
                    <div class="col-12 col-md-6">

                      <!-- List -->
                      <ul class="list list-unstyled mb-md-0 text-gray-500">
                        <li>
                          <strong class="text-body">Code</strong>: #{{product.id}}
                        </li>
                        <li>
                          <strong class="text-body">Occasion</strong>: {{this.productOccasions}}
                        </li>
                      </ul>

                    </div>
                    <div class="col-12 col-md-6">

                      <!-- List -->
                      <ul class="list list-unstyled mb-0">
                        <li>
                          <strong>Material</strong>:{{product.material}}
                        </li>
                      </ul>

                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="sizeTab">
              <div class="row justify-content-center py-9">
                <div class="col-12 col-lg-10 col-xl-8">
                  <div class="row">
                    <div class="col-12 col-md-6">

                      <!-- Text -->
                      <p class="mb-4">
                        <strong>Fitting information:</strong>
                      </p>

                      <!-- Text -->
                      <p class="text-gray-500">
                        {{product.fittingInfo}}
                      </p>

                    </div>
                    <div class="col-12 col-md-6">

                      <!-- Text -->
                      <p class="mb-4">
                        <strong>Model measurements:</strong>
                      </p>

                      <!-- List -->
                      <ul class="list-unstyled text-gray-500">
                        <li>Height: {{product.measurement.length}} cm</li>
                        <li>Bust/Chest: {{product.measurement.chest}} cm</li>
                        <li>Hips: {{product.measurement.hips}} cm</li>
                        <li>Waist: {{product.measurement.waist}} cm</li>
                      </ul>

                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="washInfo">
              <div class="row justify-content-center py-9">
                <div class="col-12 col-lg-10 col-xl-8">
                  <div class="row">
                    <div class="col-12 col-md-6">


                      <!-- Text -->
                      <p class="text-gray-500">
                        {{product.washInfo}}
                      </p>

                    </div>
                    <div class="col-12 col-md-6">

                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section class="pt-11">
    <div class="container">
      <div class="row">
        <div class="col-12">

          <!-- Heading -->
          <h4 class="mb-10 text-center">You might also like</h4>

          <!-- Items -->
          <app-product-list displayAmount="4"></app-product-list>

        </div>
      </div>
    </div>
  </section>

</div>

